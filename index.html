<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>ã‚¢ãƒ‹ãƒ¡ãƒ©ãƒ³ã‚¯ãƒãƒˆãƒ«</title>
    <style>
        /* å…¨ä½“ã®ã‚¹ã‚¿ã‚¤ãƒªãƒ³ã‚° */
        body {
            font-family: 'Arial', sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: #f0f0f0;
        }

        .config-panel {
            margin-bottom: 20px;
            padding: 15px;
            background: white;
            border-radius: 10px;
        }

        .rank-section {
            margin-bottom: 25px;
            background: white;
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
            position: relative;
        }

        .rank-header {
            color: #fff;
            padding: 5px 10px;
            border-radius: 5px;
            margin-bottom: 10px;
            display: inline-block;
        }

        .input-group {
            display: flex;
            gap: 10px;
            margin-bottom: 5px;
            flex-wrap: wrap;
        }

        input {
            padding: 8px;
            border: 2px solid #ddd;
            border-radius: 5px;
            flex-grow: 1;
            min-width: 200px;
        }

        button {
            background: #2f3542;
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: 0.3s;
        }

        button:hover {
            background: #57606f;
        }

        #result {
            margin-top: 20px;
            padding: 15px;
            border-radius: 10px;
        }

        .edit-btn {
            position: absolute;
            right: 15px;
            top: 15px;
            padding: 2px 8px;
            font-size: 0.8em;
        }
    </style>
</head>
<body>
    <div class="config-panel">
        <button onclick="editAllSettings()">è¨­å®šã‚’ç·¨é›†</button>
    </div>

    <div id="rankContainer"></div>

    <button onclick="validateInputs()">ãƒã‚§ãƒƒã‚¯ï¼</button>
    <div id="result"></div>

    <script>
        // è¨­å®šå¯èƒ½ãªãƒ©ãƒ³ã‚¯æ§‹æˆ
        let rankConfig = [
            { name: 'ç¥', count: 1, color: '#ff4757' },
            { name: 'æœ€é«˜', count: 2, color: '#ff7f50' },
            { name: 'é¢ç™½ã„', count: 3, color: '#2ed573' },
            { name: 'æ™®é€š', count: 4, color: '#747d8c' }
        ];

        // ãƒ©ãƒ³ã‚¯æ§‹æˆã‚’ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
        function renderRanks() {
            const container = document.getElementById('rankContainer');
            container.innerHTML = '';
            
            rankConfig.forEach((rank, index) => {
                const inputs = Array(rank.count).fill()
                    .map(() => `<input type="text" data-rank-index="${index}" placeholder="å…¥åŠ›ã—ã¦ãã ã•ã„">`)
                    .join('');
                
                const section = `
                    <div class="rank-section">
                        <div class="rank-header" style="background:${rank.color}">
                            ${rank.name}ï¼ˆ${rank.count}ä½œå“ï¼‰
                            <button class="edit-btn" onclick="editRank(${index})">ç·¨é›†</button>
                        </div>
                        <div class="input-group">${inputs}</div>
                    </div>
                `;
                container.innerHTML += section;
            });
        }

        // ãƒ©ãƒ³ã‚¯ç·¨é›†
        function editRank(index) {
            const newName = prompt('æ–°ã—ã„ãƒ©ãƒ³ã‚¯åã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', rankConfig[index].name);
            if (newName) rankConfig[index].name = newName;
            
            const newCount = parseInt(prompt('æ–°ã—ã„ä½œå“æ•°ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„', rankConfig[index].count));
            if (!isNaN(newCount)) rankConfig[index].count = newCount;
            
            renderRanks();
        }

        // å…¨ä½“è¨­å®šç·¨é›†
        function editAllSettings() {
            rankConfig.forEach((_, index) => editRank(index));
        }

        // å…¥åŠ›æ¤œè¨¼
        function validateInputs() {
            const allInputs = [...document.querySelectorAll('input')];
            const entries = {};
            let isValid = true;
            const allTitles = [];

            rankConfig.forEach((rank, index) => {
                const values = allInputs
                    .filter(input => input.dataset.rankIndex == index)
                    .map(input => input.value.trim());
                
                entries[rank.name] = values;
                
                // ç©ºæ¬„ãƒã‚§ãƒƒã‚¯
                if (values.some(v => !v)) isValid = false;
                
                // é‡è¤‡ãƒã‚§ãƒƒã‚¯
                values.forEach(v => {
                    if (v && allTitles.includes(v)) {
                        alert(`"${v}" ãŒé‡è¤‡ã—ã¦ã„ã¾ã™ï¼`);
                        isValid = false;
                    }
                    if (v) allTitles.push(v);
                });
            });

            // çµæœè¡¨ç¤º
            const resultDiv = document.getElementById('result');
            resultDiv.innerHTML = isValid 
                ? '<h2 style="color:green;">ğŸ‰ å®Œæˆï¼ ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã¨ç­”ãˆåˆã‚ã›ã—ã¾ã—ã‚‡ã†ï¼</h2>'
                : '<h2 style="color:red;">âš ï¸ å…¥åŠ›ãŒä¸å®Œå…¨ã§ã™ï¼ç©ºæ¬„ã‚„é‡è¤‡ã‚’ç¢ºèªã—ã¦ãã ã•ã„</h2>';
        }

        // åˆæœŸè¡¨ç¤º
        renderRanks();
    </script>
</body>
</html>
